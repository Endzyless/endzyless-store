<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>QRIS • Endzyless Store</title>

<style>
:root{
  --c1:#397ed9; 
  --c2:#014ce7; 
  --c3:#5a37e7;
  --line:rgba(255,255,255,.12);
  --text:#e9eeff;
  --muted:rgba(233,238,255,.65);
}
*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:linear-gradient(180deg,#397ed9 0%,#014ce7 50%,#5a37e7 100%);
  min-height:100vh;
}

.topbar{
  padding:14px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--line);
}

.wrap{
  max-width:520px;
  margin:0 auto;
  padding:20px 16px 30px;
}

.card{
  background:rgba(0,0,0,.25);
  border:1px solid var(--line);
  border-radius:18px;
  padding:16px;
}

h1{margin:0 0 8px;font-size:20px}
.muted{color:var(--muted);font-size:14px}

.row{
  display:flex;
  justify-content:space-between;
  margin-top:12px;
}

.qrisBox{
  margin-top:16px;
  padding:14px;
  text-align:center;
  border:1px dashed rgba(255,255,255,.25);
  border-radius:16px;
  background:rgba(0,0,0,.25);
}

.qrisBox img{
  width:260px;
  max-width:85%;
  border-radius:12px;
  background:white;
}

.btn{
  display:block;
  width:100%;
  margin-top:14px;
  padding:12px;
  border-radius:14px;
  border:none;
  font-weight:900;
  text-align:center;
  cursor:pointer;
}

.btnPrimary{
  background:linear-gradient(180deg,#397ed9,#014ce7 60%,#5a37e7);
  color:white;
}

.btnGhost{
  background:rgba(255,255,255,.08);
  border:1px solid var(--line);
  color:white;
}

input{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(0,0,0,.25);
  color:white;
  margin-top:10px;
}

.productBox{
  display:none;
  margin-top:16px;
  padding:14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(0,0,0,.25);
}

.warn{
  margin-top:12px;
  padding:10px;
  border-radius:12px;
  font-weight:900;
  background:rgba(255,255,255,.1);
}

.foot{
  margin-top:14px;
  text-align:center;
  font-size:12px;
  opacity:.7;
}
</style>
</head>

<body>

<div class="topbar">
  <div>← Kembali</div>
  <div>QRIS</div>
</div>

<div class="wrap">
<div class="card">

<h1>Bayar via QRIS</h1>
<div class="muted">
Scan QRIS di bawah, lalu kirim bukti pembayaran ke WhatsApp admin.
Setelah di-ACC, masukkan Kode ACC untuk membuka produk.
</div>

<div class="row">
  <div>Produk</div>
  <div id="pName">-</div>
</div>

<div class="row">
  <div>Total</div>
  <div id="pTotal">Rp0</div>
</div>

<div class="qrisBox">
  <img id="qrisImg" src="qris.png" alt="QRIS Tokoku">
  <div class="muted">Pastikan nominal sesuai total di atas</div>
</div>

<a id="waBtn" class="btn btnPrimary" target="_blank">
Kirim Bukti ke WhatsApp
</a>

<hr style="margin:18px 0;border:none;border-top:1px solid rgba(255,255,255,.2)">

<div>Sudah bayar? Masukkan Kode ACC:</div>
<input id="accCode" placeholder="Contoh: ES-10001">
<button id="unlockBtn" class="btn btnGhost">Buka Produk</button>

<div id="productBox" class="productBox">
  <div style="font-weight:900;">Produk kamu:</div>
  <pre id="productText"></pre>

  <div class="warn">
    Screenshot login kirim ke WA 085141179499 untuk mendapatkan garansi.
  </div>
</div>

<div class="foot">© Endzyless Store</div>

</div>
</div>

<script>

// ===== DATA TOKO =====
const waNumber = "6285141179499";
const QRIS_IMG = "qris.png";

// Contoh kode ACC (kamu tambahkan manual setiap ada order)
const approvedCodes = {
  "ES-10001": {
    text: "Canva Member 1 Bulan\n\nLink Invite:\nhttps://contoh-link.com\n\nJangan dibagikan ke orang lain."
  }
};

// Ambil data dari URL
const url = new URL(location.href);
const product = url.searchParams.get("p") || "Produk";
const amount = url.searchParams.get("a") || "0";

const rupiah = n => "Rp" + Number(n).toLocaleString("id-ID");

document.getElementById("pName").textContent = product;
document.getElementById("pTotal").textContent = rupiah(amount);
document.getElementById("qrisImg").src = QRIS_IMG;

// WA link
const msg = encodeURIComponent(
`Halo admin Endzyless Store, saya sudah bayar.

Produk: ${product}
Total: ${rupiah(amount)}

Ini bukti pembayaran:`
);

document.getElementById("waBtn").href =
`https://wa.me/${waNumber}?text=${msg}`;

// Unlock Produk
document.getElementById("unlockBtn").onclick = function(){
  const code = document.getElementById("accCode").value.trim().toUpperCase();
  if(!approvedCodes[code]){
    alert("Kode salah atau belum di-ACC admin.");
    return;
  }

  document.getElementById("productText").textContent =
    approvedCodes[code].text;

  document.getElementById("productBox").style.display = "block";
};

</script>

</body>
</html>
